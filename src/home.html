<template>
    <require from="resources/value-converters/object-keys"></require>
    <require from="partials/pagination.html"></require>
    <require from="partials/thumbnail"></require>
    
    <nav>
        <ul>
            <li repeat.for="category of categories | objectKeys"><a href="javascript:void(0);" class="${category == currentCategory ? 'active': ''}" click.delegate="filterCategory(category)">${category.name} <span>(${category.count})</span></a></li>
        </ul>
    </nav>

    <div class="blocks row">
        <div id="no-results" if.bind="!projects.length && !appService.loading"><h2>Sorry, nothing was found :(</h2></div>
        <template repeat.for="project of projects">
            <template if.bind="$index == 1">
                <div class="col-xs-12 col-sm-6 thumbnail blocks__block bg--dark">
                    <div class="thumbnail__inner">
                        <h1 class="thumbnail__heading">Built With Aurelia</h1>
                        <h2 class="thumbnail__subheading">A showcase of applications, plugins and resources developed for or using the Aurelia Javascript framework.<br><br><a route-href="route: submission" class="link--underlined">Make a Submission</a></h2>
                    </div>
                </div>
            </template>
            <template if.bind="$index == 3">
                <div class="col-xs-12 col-sm-6 thumbnail blocks__block bg--dark">
                    <div class="thumbnail__inner">
                        <h1 class="thumbnail__heading">Links</h1>
                        <ul class="list">
                            <li class="list__item list__item--no-style"><a href="http://aurelia.io" target="_blank">Aurelia Website</a></li>
                            <li class="list__item list__item--no-style"><a href="http://aurelia.io/hub.html" target="_blank">Aurelia Developer Hub</a></li>
                            <li class="list__item list__item--no-style"><a href="https://github.com/aurelia" target="_blank">Aurelia Github</a></li>
                            <li class="list__item list__item--no-style"><a href="https://twitter.com/AureliaEffect" target="_blank">Aurelia Twitter</a></li>
                        </ul>
                    </div>
                </div>
            </template>
            <thumbnail class="blocks__block ${!$first ? getRandomBackgroundColour(project.name) : 'bg--aurelia-pink blocks__block--large'} ${$first ? 'col-xs-12 col-sm-12 thumbnail--large' : 'col-xs-12 col-sm-6'}" project.bind="project"></thumbnail>
        </template>
    </div>

    <pagination total-pages.bind="totalNumberOfPages" if.bind="totalNumberOfPages > 1"></pagination>
</template>
